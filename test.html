<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/github-markdown-light.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:200,300,400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
    <!-- Minified Cirrus CSS -->
    <link rel="stylesheet" href="css/dist/cirrus-all.min.css"> <!-- Or use CDN link -->

    <!-- <link href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.7.0/styles/a11y-light.min.css" rel="stylesheet"> -->
    <link href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.7.0/styles/foundation.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/message.min.css">
</head>


<body>
    <div id="app">
        <button @click="showLi">init</button><br>

        <select name="name" id="" style="width: 200px; text-align: center;" @change=chooseCore($event)>
            <option value="-1">---请选择---</option>
            <option v-for="(item,i) in arr" :value="item.writer" 
             v-if="i<3" >{{item.writer}}</option>

        </select>

        <select name="name" id="" style="width: 200px; text-align: center;">
            <option value="-1">---请选择---</option>
            <option value="writer">{{man}}</option>
        </select>

        <ol v-if="isShow">
            <li v-for="(item,i) in arr" @click="show(item)" >{{item.writer}}</li>
        </ol>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.18.1/highlight.min.js"></script>
<script src="js/vue.js"></script>
<script src="js/axios-0.18.0.js"></script>
<script src="js/message.min.js"></script>
<script src="js/jquery.min.js"></script>
<script>
    var app = new Vue({
        el: "#app",
        data: {
            baseURL: "http://iwenwiki.com/api/blueberrypai/getIndexInteresting.php",
            arr: [],
            man: "",
            imgUrl: "",
            isShow: false
        },
        methods: {
            init: function () {
                axios({
                    method: "get",
                    url: this.baseURL
                }).then(response => {
                    Result = response.data;
                    this.arr = Result.interesting;
                    this.imgUrl = Result.titleImg;
                    console.log(this.arr);
                }, error => {
                    Qmsg.warning(error.msg);
                })
            },
            show: function(item) {
                this.man = item;
                console.log(this.man);
            },
            showLi: function() {
                this.isShow = true;
            },
            chooseCore: function(event) {
                this.man = event.target.value;
                console.log(event.target.value);
            }
        },
        mounted() {
            this.init();
        },
    })
</script>

</html>